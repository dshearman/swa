% Introduction to Social Networks
% Laurence A. F. Park and Glenn Stone
% March 22, 2005

# Accessing Information from the Social Web

## How do I get information from the Web to my program?

When we access 


## Scraping Web pages


If you can view information in a Web page, then you are able to write
a program to scrape the information into your database.

Scraping data requires knowledge of the HTML structure of the page.

\begin{block}{Example Web page scraping process}

1. Download the HTML from the desired URL
2. Parse the HTML into some data structure
3. Extract the portions at the desired positions (e.g. the first paragraph of the second div block).

\end{block}

The Python library [BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/) is an example of
software that assists in Web page scraping.


## Problems with Web page scraping

This Python program scrapes the date from the Bureau of Meteorology Web site:

```` {#scrape_temp .python .numberLines startFrom="100"}
import urllib2
from BeautifulSoup import BeautifulSoup
bom_url = "http://www.bom.gov.au/nsw/forecasts/sydney.shtml"

# download the HTML
html = urllib2.urlopen(bom_url).read()
# parse HTML
soup = BeautifulSoup(html)
# find the temperature in the HTML
max_temperature = soup.html.body.findAll('em',{"class" : "max"})[0].string
# print the result
print "The maximum temperature for today is " + max_temperature + " degrees."
`````````````````````````````````````````````````

The code is dependent on the formatting of the Web page and so will
break if the formatting changes.


## Parts of a URL

domain
path
parameters

## Accessing an API


Web site provides

An *Application Programming Interface* (API) provides us access to the
information in a structured format, allowing us to use the information
in other applications.

Web sites that provide an API, do so using a specific URL.

\begin{block}{SCEM Seminars site}

- The human readable form: [http://seminars.scem.uws.edu.au/detail.php?id=20]
- The computer readable form using the API: [http://seminars.scem.uws.edu.au/api.php?id=20]

\end{block}

For an API to be effective, it must provide a consistent URL and data
format that allows backward compatibility.


## API data formats

An API should present data in a standard format to allow us to use
existing tools for parsing.

The main formats used are:

- XML
- YAML
- JSON

Each of these formats allow us to represent complex data structures.

## XML

The eXtensible Markup Language (XML) is a flexible language for representing information.
It allows us to store data in a human readable form making information more accessible.
Many organisations have adopted XML for use in their file formats (the
Microsoft format .docx is an XML file compressed using Zip).

### Tags

- Start tag: <custard>
- End tag: </custard>

### Elements

An XML element is any portion of the data encased in a start and end
tag: <password>This is my password</password>. Note that elements can
be nested to create a hierarchy of elements by placing elements within
the tags of another element.

### Attributes

XML attributes allow us to add information to a tag:
<password computer="barney.scem.uws.edu.au">Password for barney</password>




## Example XML

~~~~ {#example_xml .xml .numberLines startFrom="100"}
<?xml version="1.0" encoding="ISO-8859-1"?>

<characters>
    <character id="Frodo">
        <name>Frodo Baggins</name>
        <race>Hobbit</race>
    </character>
    <character id="Gimli">
        <name>Gimli</name>
        <race>Dwarf</race>
    </character>
    <character id="Aragorn">
        <name>Aragorn, son of Arathorn</name>
        <race>Human</race>
    </character>
</characters>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

### Problem

List all of the tags, elements and attributes of the above XML.


## YAML

YAML (YAML Ain't Markup Language) was designed as a data
representation language that can store data types from most high level
programming languages, and formatted so that it is easily read by
humans.

### Tags

A YAML tag is a sequence of characters appearing before the associated
data. A tag and its associated data are separated by a colon ':'.

### Elements

A YAML element consists of a tag and associated data, all indented at
the same level, for example "password: this is my password".  Note
that elements can be nested to create a hierarchy of elements by
placing elements within the data portion of another element.

### Lists

A list of elements begin with a dash '-' and all elements are indented
at the same level.

## Example YAML

~~~~ {#example_yaml .yaml .numberLines startFrom="100"}
%YAML 1.1 # Characters from Middle Earth
---
characters:
    - character:
        id: Frodo
        name: Frodo Baggins
        race: Hobbit
    - character:
        id: Gimli
        name: Gimli
        race: Dwarf
    - character:
        id: Aragorn
        name: Aragorn, son of Arathorn
        race: Human
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
### Problem

List all of the tags, elements and attributes of the above XML.


## JSON

JavaScript Object Notation (JSON) is the format in which data
structures are printed from javascript.  Since many Web applications
are written in javascript, JSON has become a standard for sharing
information between Web applications.

### Tags

A JSON tag is similar to a YAML tag, but it is encased in double
quotes. E.g. "password":"Here is my password"

### Elements

A YAML element consists of a tag and associated data, all indented at
the same level, for example "password: this is my password".  Note
that elements can be nested to create a hierarchy of elements by
placing elements within the data portion of another element.

### Lists

A list of elements begin with a dash '-' and all elements are indented
at the same level.



## Example JSON

~~~~ {#example_json .json .numberLines startFrom="100"}
{
    "characters":
    [
        {
            "id":"Frodo",
            "name":"Frodo Baggins",
            "race":"Hobbit"
        }, 
        {
            "id":"Gimli",
            "name":"Gimli",
            "race":"Dwarf"
        }, 
        {
            "id":"Aragorn",
            "name":"Aragorn, son of Arathorn",
            "race":"Human"
        }
    ]
}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
### Problem

List all of the tags, elements and attributes of the above XML.







